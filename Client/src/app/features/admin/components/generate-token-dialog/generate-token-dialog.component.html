<div
  class="flex flex-col h-full w-full p-6 gap-4 overflow-hidden max-w-3xl mx-auto"
>
  <!-- Title -->
  <div class="flex flex-col gap-2">
    <h1
      class="text-3xl font-semibold text-primary-app dark:text-primary-light break-words w-full"
    >
      Generate Invite Token
    </h1>

    <p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
      Invite tokens are used to securely create new administrative accounts.
      Each token is unique, valid for <strong>24 hours</strong>, and must be
      shared privately. Choose the appropriate role below before generating a
      token.
    </p>
  </div>

  <!-- Role selection -->
  <div
    class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mt-4"
  >
    <mat-form-field appearance="fill" class="w-full sm:w-[280px]">
      <mat-label>Admin Role</mat-label>
      <mat-select [(value)]="selectedRole">
        <mat-option value="Admin">Admin</mat-option>
        <mat-option value="SuperAdmin">Super Admin</mat-option>
      </mat-select>
    </mat-form-field>

    <button
      mat-flat-button
      color="primary"
      (click)="generateToken()"
      [disabled]="inviteToken"
      class="flex items-center gap-1 dark:bg-blue-700"
    >
      <mat-icon>vpn_key</mat-icon>
      <span>Generate Invite Token</span>
    </button>
  </div>

  <!-- Role descriptions -->
  <div
    *ngIf="selectedRole === 'Admin'"
    class="p-3 border-l-4 border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-sm text-blue-800 dark:text-blue-300 rounded-md"
  >
    <strong>Admin Role:</strong> Admins can manage general content, update
    records, and assist users. This role is suitable for trusted team members
    who need operational control but not full system access.
  </div>

  <div
    *ngIf="selectedRole === 'SuperAdmin'"
    class="p-3 border-l-4 border-red-500 bg-red-50 dark:bg-red-900/30 text-sm text-red-700 dark:text-red-300 rounded-md"
  >
    ⚠️ <strong>Super Admin privileges:</strong>
    Super Admins hold unrestricted access — including creating or removing other
    admins, managing sensitive configurations, and overseeing system-wide
    permissions. Assign this role only to individuals with the highest level of
    trust and accountability.
  </div>

  <!-- Token display -->
  <ng-container *ngIf="inviteToken">
    <div
      class="p-3 border rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-between"
    >
      <code class="text-sm break-all text-gray-800 dark:text-gray-100">{{
        inviteToken
      }}</code>
      <button
        mat-icon-button
        (click)="copyToClipboard()"
        class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300"
      >
        <mat-icon>content_copy</mat-icon>
      </button>
    </div>

    <p class="text-xs text-red-600 dark:text-red-400 mt-1">
      ⚠️ This token grants administrative access. Share it only through secure
      channels.
    </p>
  </ng-container>

  <!-- Actions -->
  <div class="flex justify-end mt-4">
    <button
      mat-stroked-button
      type="button"
      (click)="close()"
      class="min-w-[100px] border-0 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200"
    >
      Close
    </button>
  </div>
</div>
