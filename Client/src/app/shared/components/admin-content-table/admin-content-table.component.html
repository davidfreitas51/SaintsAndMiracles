<mat-card
  class="shadow-lg p-6 rounded-lg bg-[var(--color-bg-light)] text-[var(--color-text-light)] border border-[var(--color-border-light)] dark:bg-[var(--color-card-dark)] dark:text-[var(--color-text-dark)] dark:border-[var(--color-border-dark)]"
>
  <!-- Filter -->
  <div class="mb-4">
    <input
      #filterInput
      type="text"
      placeholder="Filter..."
      (input)="applyFilter(filterInput.value)"
      class="w-full p-2 rounded border bg-transparent outline-none border-[var(--color-border-light)] focus:border-[var(--color-accent-dark)] dark:border-[var(--color-border-dark)]"
    />
  </div>

  <!-- Table -->
  <div class="overflow-x-auto">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      class="w-full border mat-elevation-z2 border-[var(--color-border-light)] dark:border-[var(--color-border-dark)]"
    >
      @for (col of displayedColumns; track col) {
        <ng-container [matColumnDef]="col">
          <!-- Header -->
          <th
            mat-header-cell
            *matHeaderCellDef
            [mat-sort-header]="col !== 'actions' ? col : ''"
            class="px-4 py-3 text-left font-semibold bg-[var(--color-secondary)] text-[var(--color-text-light)] dark:bg-[var(--color-card-dark)] dark:text-[var(--color-text-dark)]"
          >
            {{ humanizeColumn(col) }}
          </th>

          <!-- Cell -->
          <td mat-cell *matCellDef="let element" class="px-4 py-3">
            @if (col !== "actions") {
              {{
                col === "century"
                  ? (element[col] | roman)
                  : col === "feastDay"
                    ? (element[col] | feastDayFormat)
                    : formatCell(element, col)
              }}
            } @else {
              <div class="flex gap-2 justify-center">
                @if (showEdit) {
                  <button
                    mat-icon-button
                    class="text-blue-500 dark:text-blue-400"
                    (click)="editObject(element)"
                  >
                    <mat-icon>edit</mat-icon>
                  </button>
                }

                <button
                  mat-icon-button
                  class="text-red-500 dark:text-red-400"
                  (click)="deleteObject(element)"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            }
          </td>
        </ng-container>
      }

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        class="transition hover:bg-[var(--color-accent-light)] dark:hover:bg-[rgba(207,162,138,0.18)]"
      ></tr>
    </table>
  </div>

  <!-- Paginator -->
  <mat-paginator
    [pageSizeOptions]="[10, 20, 50, 100]"
    showFirstLastButtons
    class="mt-4"
  ></mat-paginator>
</mat-card>
